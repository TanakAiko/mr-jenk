# Server configuration
server.port=9083
# Media Service Configuration
spring.application.name=media-service

spring.config.import=optional:configserver:${DOCKER_CONFIG_SERVICE_URL:http://config-service:9888}

eureka.client.service-url.defaultZone=${EUREKA_URL:http://eureka-server:9761/eureka}

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.server.port=9083

# File upload configuration
spring.servlet.multipart.max-file-size=8MB
spring.servlet.multipart.max-request-size=8MB
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.location=/tmp
spring.servlet.multipart.enabled=true
spring.servlet.multipart.resolve-lazily=false

# Custom file upload limits and security
file.upload.max-files=5
file.upload.max-file-size=5242880
file.upload.allowed-types=image/jpeg,image/jpg,image/png,image/webp,image/gif
file.upload.max-filename-length=255
file.upload.secure-filenames=true

# Media storage configuration
media.storage.path=/tmp/media
media.storage.cleanup-on-startup=false

# Security headers for file uploads
server.servlet.session.tracking-modes=cookie
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
